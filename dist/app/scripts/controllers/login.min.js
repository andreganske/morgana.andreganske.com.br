"use strict";angular.module("myApp").controller("LoginController",["$rootScope","$scope","ParseSDK","$modal","$location",function(a,b,c,d,e){b.init=function(){b.user=a.user,b.logged=a.logged,b.allowLogin=!0,b.allowSingin=!1;var d=Parse.User.current();void 0!=d&&(b.logged=!0,b.user=d.get("fullname"),a.login=d.get("username"),c.validateLoggedUser())},b.open=function(a,b){var e=d.open({templateUrl:a+".html",controller:"LoginModalController",size:b,resolve:{ParseService:function(){return c}}});e.result.then(function(){c.validateLoggedUser()})},b.logoff=function(){c.logout()}}]).controller("LoginModalController",function(a,b,c,d){b.login=function(){var e=d.login(b);e.done(function(){a.logged&&c.close()})},b.create=function(){var a=new Parse.User;a.set("username",b.email),a.set("email",b.email),a.set("password",b.password),a.set("fullname",b.fullname),a.signUp(null,{success:function(a){c.close()},error:function(a,b){alert("Error: "+b.code+" "+b.message)}})},b.cancel=function(){c.dismiss("cancel")}});